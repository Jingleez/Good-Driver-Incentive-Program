{% block content %}
<div style="max-width: 900px; margin: 40px auto; font-family: 'Poppins', sans-serif; color: #fff; padding: 20px; background: #2c2f33; border-radius: 10px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);">
    <h2 style="text-align: center; color: #4a90e2; margin-bottom: 30px; font-size: 1.8em;">Orders - View Driver Carts</h2>

    <!-- Driver Dropdown -->
    <div style="text-align: center; margin-bottom: 30px;">
        <label for="driverDropdown" style="font-size: 1.2em; font-weight: bold; color: #fff; margin-right: 10px;">Select Driver:</label>
        <select id="driverDropdown" onchange="fetchCartItems()" style="padding: 12px; font-size: 1em; border-radius: 8px; border: 1px solid #4a90e2; background-color: #1f1f1f; color: #fff; transition: border-color 0.3s ease;">
            <option value="">-- Select Driver --</option>
            {% for driver in approved_drivers %}
                <option value="{{ driver.user_id }}" style="color: #000;">
                    {{ driver.first_name }} {{ driver.last_name }} (ID: {{ driver.user_id }})
                </option>
            {% endfor %}
        </select>
    </div>

    <!-- Cart Display -->
    <div id="cartContainer" style="display: none; background-color: #3a3d41; padding: 20px; border-radius: 10px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);">
        <h3 style="color: #4a90e2; text-align: center; margin-bottom: 20px; font-size: 1.5em;">Driver's Cart</h3>
        <!-- Cart Items -->
        <div id="cartItems" style="display: flex; flex-direction: column; gap: 20px;">
            <!-- Example Cart Item -->
            <div class="cart-item" style="display: flex; justify-content: space-between; align-items: center; background-color: #444; padding: 10px; border-radius: 5px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);">
                <div class="product-name" style="font-size: 1.1em; color: #fff; font-weight: bold;">Product Name</div>
                <div class="product-price" style="font-size: 1.1em; color: #4caf50;">129 points</div>
                <button onclick="removeFromCart()" style="background-color: #e74c3c; color: #fff; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">Remove</button>
            </div>
        </div>

        <!-- Total Points and Checkout -->
        <div style="margin-top: 30px; display: flex; justify-content: flex-end; align-items: center; border-top: 1px solid #4a90e2; padding-top: 20px;">
            <h4 id="cartTotal" style="font-size: 1.2em; font-weight: bold; color: #ddd; margin-right: 20px;">Total Points: 0</h4>
            <button id="checkoutButton" onclick="checkout()" style="background-color: #4a90e2; color: #fff; font-weight: bold; border: none; padding: 10px 20px; border-radius: 8px; font-size: 1em; cursor: pointer; transition: background-color 0.3s ease;">
                Checkout
            </button>
        </div>
    </div>

    <!-- Empty Cart Message -->
    <p id="emptyCartMessage" style="color: #aaa; text-align: center; display: none; font-size: 1em; margin-top: 20px;">No items in the cart.</p>
</div>

<script>
    // Add hover effect to the checkout button
    document.getElementById('checkoutButton').addEventListener('mouseover', function() {
        this.style.backgroundColor = '#3c7bd3';
    });
    document.getElementById('checkoutButton').addEventListener('mouseout', function() {
        this.style.backgroundColor = '#4a90e2';
    });

</script>
{% endblock %}
