{% block content %}
<div>
    <section>
        <h2>Participating Drivers</h2>
        <p>List of drivers participating in the sponsor's program.</p>

        {% if drivers %}
            <table style="width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 16px;">
                <thead style="background-color: #007bff; color: white;">
                    <tr>
                        <th style="padding: 12px; text-align: left;">Driver Name</th>
                        <th style="padding: 12px; text-align: left;">Email</th>
                        <th style="padding: 12px; text-align: left;">Phone</th>
                        <th style="padding: 12px; text-align: left;">Application Date</th>
                        <th style="padding: 12px; text-align: left;">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for driver in drivers %}
                    <tr>
                        <td>{{ driver.first_name }} {{ driver.last_name }}</td>
                        <td>{{ driver.email }}</td>
                        <td>{{ driver.phone }}</td>
                        <td>{{ driver.date_submitted.strftime('%Y-%m-%d') }}</td>
                        <td>
                            <button onclick="viewWishlist('{{ driver.user_id }}')">View Wishlist</button>
                            <button onclick="removeDriver('{{ driver.user_id }}')" style="background-color: #dc3545; color: white;">Remove Driver</button>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>No drivers have been accepted yet.</p>
        {% endif %}
    </section>
    <div id="wishlistModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); justify-content: center; align-items: center;">
        <div style="background: white; padding: 20px; border-radius: 8px; width: 80%; max-width: 800px; overflow-y: auto;">
            <h3 style="color: black; text-align: center; margin-bottom: 20px;">Driver's Wishlist</h3>
            
            <div class="Items" id="wishlistItems" style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center;">
                <!-- Wishlist items will be dynamically inserted here -->
            </div>
    
            <button onclick="closeWishlist()" style="margin-top: 20px; background-color: #007bff; color: white; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer;">
                Close
            </button>
        </div>
    </div>
    
</div>
{% endblock %}
